var hotmobMainManager=function(){this.sourcePath='//code.hot-mob.com/api/javascript/sdk4/';this.isMin=".min";this.crossDomainCookiePath='//webapi.hot-mob.com/api/cookie/';this.onActionTrackingPath="//trk.hot-mob.com/api/v1/tp?";this.requestURL='//ad.hot-mob.com/hmapi/v2/adx?';this.vmapURL='//ad.hot-mob.com/vast/v1/playlist?';this.FRCookieSyncURL="//cm.g.doubleclick.net/pixel?google_nid=lively_impact&google_cm&mode=chn_cookie_matching&channel_id=13&channel_cookie=";this.postMethod='https://trk.hot-mob.com/static/post.min.html';this.debugMode=false;this.http='https:'==document.location.protocol?'https:':'http:';this.sdkVersion='4.4.1';this.clickMacro='%%HOTMOB_CLICK_TAG%%';this.scriptName="hotmobtag";this.domainSite=encodeURIComponent(window.location.host);this.cookieDefaultExpires=10*86400*365;this.thirdPartyCookieSettled=false;this.adblocked=false;this.iframeStylePath=this.http+this.sourcePath+'css/style.iframe'+this.isMin+'.css';this.styleSheetsPath=this.http+this.sourcePath+'css/style'+this.isMin+'.css?r=1';this.publisherCSSPath=this.http+this.sourcePath+'css/style.publisher'+this.isMin+'.css';this.inlinePlayVideoJS=this.http+this.sourcePath+'lib/inline_video'+this.isMin+'.js';this.hmVideoPlayerJS=this.http+this.sourcePath+'lib/hotmob_video_player'+this.isMin+'.js?R=2';this.importAAJS=this.http+this.sourcePath+'lib/import_aa'+this.isMin+'.js';this.adsJS=this.http+this.sourcePath+'lib/ads'+this.isMin+'.js';this.popupLandscapeCoverText=document.createElement("p");this.popupLandscapeCoverText.innerHTML="Please turn your device to portrait mode for best viewing experience.";this.deviceInnerWidth;this.deviceInnerHeight;this.deviceClientWidth;this.deviceClientHeight;this.process="loading";this.sdkLoaded=false;this.browser="";this.OSVersion="";this.browserVersion="";this.deviceOS="";this.sessionID="";this.locationLat="";this.locationLong="";this.orientationState='portrait';this.scriptQueryString=null;this.promises={};this.thirdPartyContent=[];}
hotmobMainManager.prototype={setLocation:function(){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(this.getLocationCoords);}else{hotmob_tag.mainManager.debug("Geolocation is not supported by this browser.");}},getLocationCoords:function(position){this.locationLat=position.coords.latitude,this.locationLong=position.coords.longitude;},setCookie:function(cookieName,cookieValue,cookieExpires,cookiePath){var d=new Date();d.setTime(d.getTime()+(cookieExpires*1000));cookieExpires=d.toUTCString();if(!cookiePath){cookiePath="/";}
document.cookie=cookieName+"="+cookieValue+"; expires="+cookieExpires+"; path="+cookiePath+";";},getCurrentCookie:function(cookieName){cookieName=cookieName+"=";var cookie=document.cookie.split(';');for(var i=0;i<cookie.length;i++){var c=cookie[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(cookieName)==0){return c.substring(cookieName.length,c.length);}}
return null;},getUserAgent:function(){this.hmUA=new HotmobParser();var deviceDetail=this.hmUA.getResult();this.browser=deviceDetail.browser.name;this.browserVersion=deviceDetail.browser.version;this.model=deviceDetail.device.model;this.vendor=deviceDetail.device.vendor;this.deviceOS=deviceDetail.os.name;this.OSVersion=deviceDetail.os.version;this.deviceType=deviceDetail.device.type;},styleInjection:function(injectionContainer,url,successMethod,errorMethod){var style=document.createElement('link');style.rel="stylesheet";style.type="text\/css";style.href=url;if(errorMethod){style.onerror=errorMethod;}
if(successMethod){style.onload=successMethod;}
injectionContainer.appendChild(style);},scriptInjection:function(container,url,successMethod,errorMethod,isAsync,isInsertBefore){var script=document.createElement('script');script.type="text\/javascript";if(isAsync)script.async=true;if(errorMethod)script.onerror=errorMethod;if(successMethod)script.onload=successMethod;if(isInsertBefore){container.parentNode.insertBefore(script,container);}else{container.appendChild(script);}
script.src=url;},elementIsInView:function(el){var currentScroll=window.scrollY||window.pageYOffset;var boundsTop=el.getBoundingClientRect().top+currentScroll;var currentWindow=window;if(window.inDapIF){currentWindow=window.parent;}
var viewport={top:currentScroll,bottom:currentScroll+currentWindow.innerHeight,}
var bounds={top:boundsTop,bottom:boundsTop+el.clientHeight,}
return(bounds.bottom>=viewport.top&&bounds.bottom<=viewport.bottom)||(bounds.top<=viewport.bottom&&bounds.top>=viewport.top);},visibilityConfig:function(){this.visibilityObject={'hidden':'hidden','visibilityChange':'visibilitychange',}
if(typeof document.mozHidden!=="undefined"){this.visibilityObject={'hidden':'mozHidden','visibilityChange':'mozvisibilitychange',}}else if(typeof document.webkitHidden!=="undefined"){this.visibilityObject={'hidden':'webkitHidden','visibilityChange':'webkitvisibilitychange',}}else if(typeof document.msHidden!=="undefined"){this.visibilityObject={'hidden':'msHidden','visibilityChange':'msvisibilitychange',}}},orientationChange:function(){var orientation='portrait';var currentWindow=window;if(window.inDapIF){currentWindow=window.parent;}
if(currentWindow.innerWidth<currentWindow.innerHeight){hotmob_tag.mainManager.deviceInnerWidth=currentWindow.innerWidth;hotmob_tag.mainManager.deviceInnerHeight=currentWindow.innerHeight;}else{hotmob_tag.mainManager.deviceInnerWidth=currentWindow.innerHeight;hotmob_tag.mainManager.deviceInnerHeight=currentWindow.innerWidth;}
switch(currentWindow.orientation){case-90:case 90:orientation='landscape';hotmob_tag.mainManager.orientationState=orientation;hotmob_tag.mainManager.hotmobEventTrigger(currentWindow,orientation);break;default:orientation='portrait';hotmob_tag.mainManager.orientationState=orientation;hotmob_tag.mainManager.hotmobEventTrigger(currentWindow,orientation);break;}},detectAdBlock:function(){hotmob_tag.mainManager.scriptInjection(document.getElementsByTagName('head')[0],this.adsJS,function(){hotmob_tag.mainManager.debug(' Hotmob Debug Log: Ads Script Loaded');hotmob_tag.hmAdCheck=(hotmob_tag.hmAdCheck?hotmob_tag.hmAdCheck:new hmAdCheck());var self=this;var callback=function(e){if(e.isBlocked)
self.adblocked=true;}
hotmob_tag.hmAdCheck.init(callback);},function(){hotmob_tag.mainManager.debug(' Hotmob Debug Log: Ads Blocked');this.adblocked=true;});},getThirdPartyTracking:function(callback){var thisbanner=this;var http=hotmob_tag.mainManager.http;var randomNumber='?r='+Math.random();var cookieJSPath=http+hotmob_tag.mainManager.crossDomainCookiePath+"getThirdPartyTracking"+randomNumber;var hm_jsScript=document.createElement("script");hm_jsScript.async=true;hm_jsScript.type="text/javascript";hm_jsScript.src=cookieJSPath;var node=document.getElementsByTagName("script")[0];node.parentNode.insertBefore(hm_jsScript,node);this.hotmobAddEventListener(hm_jsScript,'load',function(){callback();thisbanner.thirdPartyCookieSettled=false;});},setThirdPartyTracking:function(callback){if(!this.thirdPartyCookieSettled){this.thirdPartyCookieSettled=true;var cookieJSPath=hotmob_tag.mainManager.http+hotmob_tag.mainManager.crossDomainCookiePath+"setThirdPartyTracking";hotmob_tag.mainManager.scriptInjection(document.getElementsByTagName('body')[0],cookieJSPath,function(){hotmob_tag.mainManager.debug(' Hotmob Debug Log: Cross-Domain Cookie Loaded');callback();},function(){hotmob_tag.mainManager.debug(' Hotmob Debug Log: Cross-Domain Cookie Load Fail');});}},fingeReachSync:function(){if(hotmob_tag.mainManager.sessionID&&hotmob_tag.mainManager.sessionID!=""){var url=this.FRCookieSyncURL+hotmob_tag.mainManager.sessionID;var frameTag=document.createElement("iframe");frameTag.id="cookieSync";frameTag.style.display="none";this.hotmobAddEventListener(window,"load",function(){document.getElementsByTagName('body')[0].appendChild(frameTag);var iFrameBody=frameTag.contentDocument.querySelector('body');if(!iFrameBody){iFrameBody=frameTag.contentDocument.createElement('body');}
hotmob_tag.mainManager.scriptInjection(iFrameBody,url,function(){hotmob_tag.mainManager.debug(' Hotmob Debug Log: FR party Script Loading Success');},function(){hotmob_tag.mainManager.debug(' Hotmob Debug Log: FR party Script Loading Error');},true);});}
},getScriptQueryString:function(){var scriptNodes=document.getElementsByTagName('script');for(var i=0;i<scriptNodes.length;i++){var scriptNodeSrc=scriptNodes[i].src;var isHotmobScript=scriptNodeSrc.indexOf(this.scriptName);if(isHotmobScript>0){var query_string={};var query=scriptNodeSrc.substring(scriptNodeSrc.indexOf("?")+1);var vars=query.split("&");for(var a=0;a<vars.length;a++){var pair=vars[a].split("=");if(typeof query_string[pair[0]]==="undefined"){query_string[pair[0]]=decodeURIComponent(pair[1]);}else if(typeof query_string[pair[0]]==="string"){var arr=[query_string[pair[0]],decodeURIComponent(pair[1])];query_string[pair[0]]=arr;}else{query_string[pair[0]].push(decodeURIComponent(pair[1]));}}
this.scriptQueryString=query_string;}}},setOnActionTrack:function(creativeId,type,value,imgURL,deviceId,adCode,token){if(!type||!adCode||!creativeId||!value){hotmob_tag.mainManager.debug(" Hotmob Debug Log: setOnActionTrack() Parameter Error ");return false;}
var path=this.onActionTrackingPath+"id="+creativeId+"&t="+type+"&e="+value+"&k="+adCode;if(deviceId)path+="&s="+deviceId;if(imgURL)path+="&u="+encodeURIComponent(imgURL);if(token)path+="&token="+token;return path;},_setOnActionTrack:function(type,action,adCode,creativeId,value,deviceId,url){if(!type||!action||!adCode||!creativeId){hotmob_tag.mainManager.debug(" Hotmob Debug Log: setOnActionTrack() Parameter Error ");return false;}
var path=this.onActionTrackingPath+"t="+type+"&a="+action+"&k="+adCode+"&c="+creativeId;if(value)path+="&v="+value;if(deviceId)path+="&i="+deviceId;if(url)path+="&u="+encodeURIComponent(url);return path;},generateToken:function(length,chars){var result='';for(var i=length;i>0;--i)result+=chars[Math.round(Math.random()*(chars.length-1))];return result;},imageAppend:function(container,url,s,e){var trackingIMG=document.createElement('img');;trackingIMG.setAttribute('class','hotmob-tracking-img');trackingIMG.style.width="1px";trackingIMG.style.height="1px";trackingIMG.style.position="absolute";trackingIMG.style.border=0;trackingIMG.style.margin=0;trackingIMG.style.padding=0;trackingIMG.style.opacity=0;trackingIMG.onload=function(){s()};if(e){trackingIMG.onerror=function(){e()};}
trackingIMG.src=url;container.appendChild(trackingIMG);},start:function(){this.sdkLoaded=true;this.getScriptQueryString();if(this.scriptQueryString['debug']){hotmob_tag.mainManager.debug(" Hotmob Debug Log: Debug Mode on");this.debugMode=true;}
hotmob_tag.mainManager.debug(" Hotmob Debug Log: Manager Define");this.getUserAgent();this.detectAdBlock();hotmob_tag.mainManager.currentSessionID=hotmob_tag.mainManager.getCurrentCookie("hotmobCrossSessionID");if(hotmob_tag.mainManager.currentSessionID&&hotmob_tag.mainManager.currentSessionID!=""){hotmob_tag.mainManager.sessionID=hotmob_tag.mainManager.currentSessionID;}
hotmob_tag.mainManager.getThirdPartyTracking(function(){hotmob_tag.mainManager.debug(" Hotmob Debug Log: Start Process After Add Session ID ");hotmob_tag.dataCollector=(hotmob_tag.dataCollector?hotmob_tag.dataCollector:new hotmobDataCollector());hotmob_tag.dataCollector.init();hotmob_tag.mainManager.commandProcessReActive();if(!hotmob_tag.mainManager.sessionID||hotmob_tag.mainManager.sessionID==""){hotmob_tag.mainManager.setThirdPartyTracking(function(){hotmob_tag.mainManager.debug(" Hotmob Debug Log: Add Session ID - "+hotmob_tag.mainManager.sessionID)
hotmob_tag.mainManager.fingeReachSync();});}else{hotmob_tag.mainManager.fingeReachSync();if(!hotmob_tag.mainManager.currentSessionID||hotmob_tag.mainManager.currentSessionID!=hotmob_tag.mainManager.sessionID){hotmob_tag.mainManager.currentSessionID=hotmob_tag.mainManager.sessionID
hotmob_tag.mainManager.setCookie("hotmobCrossSessionID",hotmob_tag.mainManager.sessionID,hotmob_tag.mainManager.cookieDefaultExpires);}}});this.styleInjection(document.getElementsByTagName('head')[0],this.styleSheetsPath);this.styleInjection(document.getElementsByTagName('head')[0],this.publisherCSSPath);var currentWindow=window;if(window.inDapIF){this.styleInjection(frameElement.parentElement.ownerDocument.getElementsByTagName('head')[0],this.styleSheetsPath);this.styleInjection(frameElement.parentElement.ownerDocument.getElementsByTagName('head')[0],this.publisherCSSPath);currentWindow=window.parent;}
if(currentWindow.innerWidth<currentWindow.innerHeight){this.deviceInnerWidth=currentWindow.innerWidth;this.deviceInnerHeight=currentWindow.innerHeight;}else{this.deviceInnerWidth=currentWindow.innerHeight;this.deviceInnerHeight=currentWindow.innerWidth;}
if(this.enableAA){this.scriptInjection(document.getElementsByTagName('body')[0],this.importAAJS,function(){hotmob_tag.mainManager.debug(" Hotmob Debug Log: AA imported");},function(){hotmob_tag.mainManager.debug(" Hotmob Debug Log: AA import failed");});}
this.hotmobCreateCustomEvent('landscape');this.hotmobCreateCustomEvent('portrait');this.hotmobCreateCustomEvent('stopHotmobSDKProcess');this.hotmobCreateCustomEvent('startHotmobSDKProcess');this.hotmobAddEventListener(currentWindow,'orientationchange',this.orientationChange);this.orientationChange();this.visibilityConfig()
},addClass:function(element,className){if(!element.className){element.className="";}
if(!hotmob_tag.mainManager.hasClass(element,className)){element.className=element.className+" "+className;}else{hotmob_tag.mainManager.debug(" Hotmob Debug Log: "+className+" already have");}},hasClass:function(element,className){return(' '+element.className+' ').indexOf(' '+className+' ')>-1;},removeClass:function(element,className){element.className=element.className.replace(className,'');},sendRequest:function(path,type,successMethod,errorMethod,processMethod,loadedMethod,timeoutMethod,requestHeader,data){try{hotmob_tag.mainManager.debug(' Hotmob Debug Log: Ajax push start ');var xmlhttp=new XMLHttpRequest();xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4&&xmlhttp.status==200){if(xmlhttp.responseText){try{hotmob_tag.mainManager.debug(' Hotmob Debug Log: Ajax get Successful');successMethod(xmlhttp.responseText);}catch(e){hotmob_tag.mainManager.debug(' Hotmob Debug Log: Ajax response Not a JSON Object');errorMethod();}}}else{hotmob_tag.mainManager.debug(' Hotmob Debug Log: Ajax get Status is '+xmlhttp.status+' and readyState '+xmlhttp.readyState);}};xmlhttp.onerror=errorMethod;xmlhttp.onprocess=processMethod;xmlhttp.onload=loadedMethod;xmlhttp.ontimeout=timeoutMethod;xmlhttp.open(type,path,true);if(requestHeader&&requestHeader!=""){xmlhttp.setRequestHeader("Content-type","application/json");}
if(data&&requestHeader!=""){xmlhttp.send(data);}else{xmlhttp.send();}}catch(e){hotmob_tag.mainManager.debug(' Hotmob Debug Log: Ajax get Unexpected Error Catched',e);}},debug:function(value,exception){if(this.debugMode)
console.log(value);if(exception)
console.debug(exception);},hotmobURLDeconde:function(url){return url.replace(/&amp;/g,'&');},hotmobAddEventListener:function(object,event,eventFunction,eventListenrList){if(object.addEventListener){object.addEventListener(event,eventFunction);}else if(object.attachEvent){object.attachEvent("on"+event,eventFunction);}
if(eventListenrList){eventListenrList.push({"object":object,"event":event,"eventFunction":eventFunction,"existing":true,});}},hotmobRemoveEventListener:function(object,event,eventFunction,eventListenrList){if(object.removeEventListener){object.removeEventListener(event,eventFunction,false);}else if(object.detachEvent){object.detachEvent("on"+event,eventFunction);}else{object["on"+event]=null;}
if(eventListenrList){}},hotmobAddOnceEventListener:function(object,event,eventFunction,eventListenrList){var latestEvent=eventListenrList.length;if(eventFunction){var hookedFunction=(function(){eventFunction();hotmob_tag.mainManager.hotmobRemoveEventListener(object,event,hookedFunction);eventListenrList[latestEvent].existing=false});}
hotmob_tag.mainManager.hotmobAddEventListener(object,event,hookedFunction,eventListenrList)},hotmobEventTrigger:function(element,eventName){if(element.dispatchEvent){element.dispatchEvent(hotmob_tag.hotmobCustomEvent[eventName]);}else if(element.fireEvent&&htmlEvents['on'+eventName]){element.fireEvent('on'+hotmob_tag.hotmobCustomEvent[eventName].eventType,hotmob_tag.hotmobCustomEvent[eventName]);}else if(element[eventName]){element[eventName]();}else if(element['on'+eventName]){element['on'+eventName]();}
hotmob_tag.mainManager.debug(' Hotmob Debug Log: Event Trigger: '+eventName);},hotmobCreateCustomEvent:function(eventName){hotmob_tag.mainManager.debug(' Hotmob Debug Log: Create Custom Event Start ');try{if(hotmob_tag.hotmobCustomEvent){hotmob_tag.hotmobCustomEvent=hotmob_tag.hotmobCustomEvent;}else{hotmob_tag.hotmobCustomEvent=function(){};}
if(!hotmob_tag.hotmobCustomEvent[eventName]){var event;if(document.createEvent){event=document.createEvent('HTMLEvents');event.initEvent(eventName,true,true);event.eventName=eventName;}else if(document.createEventObject){event=document.createEventObject();event.eventType=eventName;event.eventName=eventName;}else{event=new Event(eventName);}
hotmob_tag.hotmobCustomEvent[eventName]=event;}}catch(e){hotmob_tag.mainManager.debug(' Hotmob Debug Log: Create Custom Event Error: ',e);}},hotmobRemoveEventListenerFromList:function(eventListenrList){try{if(eventListenrList!=null||eventListenrList.length>0){for(var i=0;i<eventListenrList.length;i++){var event=eventListenrList[i].event;var eventFunction=eventListenrList[i].eventFunction;var object=eventListenrList[i].object;hotmob_tag.mainManager.hotmobRemoveEventListener(object,event,eventFunction,eventListenrList);eventListenrList[i].existing=false}}}catch(e){hotmob_tag.mainManager.debug(' Hotmob Debug Log: Remove Custom Event Error: ',e);}},replaceBetween:function(string,what,toWhat){var start=string.indexOf(what);if(start>0){var end=start+what.length;return string.substring(0,start)+toWhat+string.substring(end);}else{return string;}},replaceAllBetween:function(string,what,toWhat){var stopLoop=false;while(!stopLoop){var start=string.indexOf(what);if(start>0){var end=start+what.length;string=string.substring(0,start)+toWhat+string.substring(end);}else{return string;stopLoop=true;}}},commandProcessReActive:function(){hotmob_tag.mainManager.process='loading';var start_command=hotmob_tag.cmd;for(var i=0;i<start_command.length;i++){if(!start_command[i].loaded){if(hotmob_tag.mainManager.process!="pause"){start_command[i]();start_command[i].loaded=true;}}}},hmDefineRequestAnimEng:function(loopCallback,canvasState){if(!canvasState.paused){if(!canvasState.lastRun){canvasState.lastRun=new Date().getTime();this.hmRequestAnimFrame(loopCallback);return;}
var delta=(new Date().getTime()-canvasState.lastRun)/1000;canvasState.lastRun=new Date().getTime();canvasState.fps=1/delta;if(canvasState.fps>20){this.hmRequestAnimFrame(loopCallback);}else{this.hmRequestAnimJS(loopCallback);}}},hmRequestAnimJS:function(loopCallback){window.setTimeout(loopCallback,10);},hmRequestAnimFrame:function(loopCallback){if(window.requestAnimationFrame)
window.requestAnimationFrame(loopCallback);else if(window.webkitRequestAnimationFrame)
window.webkitRequestAnimationFrame(loopCallback);else if(window.mozRequestAnimationFrame)
window.mozRequestAnimationFrame(loopCallback);else{window.setTimeout(loopCallback,1000/60);}},getMetaElements:function(){return document.getElementsByTagName("meta");},getMetaElementByAttribute:function(attribute,value){var metaTags=this.getMetaElements();for(var i=0;i<metaTags.length;i++){if(metaTags[i][attribute]==value){return metaTags[i];}}
return null;},setMetaElementByAttribute:function(attribute,value,content){var metaTags=this.getMetaElements();for(var i=0;i<metaTags.length;i++){if(metaTags[i][attribute]==value){metaTags[i].content=content;return null;}}
var metaTag=document.createElement('meta');metaTag[attribute]=value;metaTag.content=content;document.getElementsByTagName('head')[0].appendChild(metaTag);},urlAddParams:function(url,params){if(url!=""){var searchPath="";for(var paramName in params){if(url.indexOf("?"+paramName)>0||url.indexOf("&"+paramName)>0){url=url.replace(paramName+"=",paramName+"="+params[paramName])}else if(url.indexOf("?")<0&&searchPath.indexOf("?")<0){searchPath+="?"+paramName+"="+params[paramName];}else{searchPath+="&"+paramName+"="+params[paramName];}}
var numSignString=new Array();if(url.indexOf("#")>0){numSignString=url.split('#');url=numSignString[0]+searchPath+"#"+numSignString[1];}else{url=url+searchPath;}
return url;}else{hotmob_tag.mainManager.debug(' Hotmob Debug Log: Not URL for [urlAddParams()]');return false;}},getHiddenProp:function(){var prefixes=['webkit','moz','ms','o'];if('hidden'in document)return'hidden';for(var i=0;i<prefixes.length;i++){if((prefixes[i]+'Hidden')in document)
return prefixes[i]+'Hidden';}
return null;},isHidden:function(){var prop=getHiddenProp();if(!prop)return false;return document[prop];},debounce:function(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)func.apply(context,args);};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)func.apply(context,args);};}
};HotmobParser=function(){var LIBVERSION='0.7.14',EMPTY='',UNKNOWN='?',FUNC_TYPE='function',UNDEF_TYPE='undefined',OBJ_TYPE='object',STR_TYPE='string',MAJOR='major',MODEL='model',NAME='name',TYPE='type',VENDOR='vendor',VERSION='version',ARCHITECTURE='architecture',CONSOLE='console',MOBILE='mobile',TABLET='tablet',DESKTOP='desktop',SMARTTV='smarttv',WEARABLE='wearable',EMBEDDED='embedded';this.maps={browser:{oldsafari:{version:{'1.0':'/8','1.2':'/1','1.3':'/3','2.0':'/412','2.0.2':'/416','2.0.3':'/417','2.0.4':'/419','?':'/'}}},device:{amazon:{model:{'Fire Phone':['SD','KF']}},sprint:{model:{'Evo Shift 4G':'7373KT'},vendor:{'HTC':'APA','Sprint':'Sprint'}}},os:{windows:{version:{'ME':'4.90','NT 3.11':'NT3.51','NT 4.0':'NT4.0','2000':'NT 5.0','XP':['NT 5.1','NT 5.2'],'Vista':'NT 6.0','7':'NT 6.1','8':'NT 6.2','8.1':'NT 6.3','10':['NT 6.4','NT 10.0'],'RT':'ARM'}}}}
this.regexes={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[NAME,VERSION],[/(opios)[\/\s]+([\w\.]+)/i],[[NAME,'Opera Mini'],VERSION],[/\s(opr)\/([\w\.]+)/i],[[NAME,'Opera'],VERSION],[/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],[NAME,VERSION],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[NAME,'IE'],VERSION],[/(edge)\/((\d+)?[\w\.]+)/i],[NAME,VERSION],[/(micromessenger)\/([\w\.]+)/i],[[NAME,'WeChat'],VERSION],[/(QQ)\/([\d\.]+)/i],[NAME,VERSION],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[NAME,VERSION],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[VERSION,[NAME,'MIUI Browser']],[/;fbav\/([\w\.]+);/i],[VERSION,[NAME,'Facebook']],[/(headlesschrome) ([\w\.]+)/i],[VERSION,[NAME,'Chrome Headless']],[/\swv\).+(chrome)\/([\w\.]+)/i],[[NAME,/(.+)/,'$1 WebView'],VERSION],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[NAME,/(.+(?:g|us))(.+)/,'$1 $2'],VERSION],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[VERSION,[NAME,'Android Browser']],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[NAME,VERSION],[/(dolfin)\/([\w\.]+)/i],[[NAME,'Dolphin'],VERSION],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[NAME,'Chrome'],VERSION],[/(coast)\/([\w\.]+)/i],[[NAME,'Opera Coast'],VERSION],[/fxios\/([\w\.-]+)/i],[VERSION,[NAME,'Firefox']],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[VERSION,[NAME,'Mobile Safari']],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[VERSION,NAME],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[NAME,[VERSION,this.str,this.maps.browser.oldsafari.version]],[/(navigator|netscape)\/([\w\.-]+)/i],[[NAME,'Netscape'],VERSION],[/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i],[NAME,VERSION]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[MODEL,VENDOR,[TYPE,TABLET]],[/applecoremedia\/[\w\.]+ \((ipad)/],[MODEL,[VENDOR,'Apple'],[TYPE,TABLET]],[/(apple\s{0,1}tv)/i],[[MODEL,'Apple TV'],[VENDOR,'Apple']],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[VENDOR,MODEL,[TYPE,TABLET]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[MODEL,[VENDOR,'Amazon'],[TYPE,TABLET]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[MODEL,this.str,this.maps.device.amazon.model],[VENDOR,'Amazon'],[TYPE,MOBILE]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[MODEL,VENDOR,[TYPE,MOBILE]],[/\((ip[honed|\s\w*]+);/i],[MODEL,[VENDOR,'Apple'],[TYPE,MOBILE]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[VENDOR,MODEL,[TYPE,MOBILE]],[/\(bb10;\s(\w+)/i],[MODEL,[VENDOR,'BlackBerry'],[TYPE,MOBILE]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[MODEL,[VENDOR,'Asus'],[TYPE,TABLET]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[VENDOR,'Sony'],[MODEL,'Xperia Tablet'],[TYPE,TABLET]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[MODEL,[VENDOR,'Sony'],[TYPE,MOBILE]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[VENDOR,MODEL,[TYPE,CONSOLE]],[/android.+;\s(shield)\sbuild/i],[MODEL,[VENDOR,'Nvidia'],[TYPE,CONSOLE]],[/(playstation\s[34portablevi]+)/i],[MODEL,[VENDOR,'Sony'],[TYPE,CONSOLE]],[/(sprint\s(\w+))/i],[[VENDOR,this.str,this.maps.device.sprint.vendor],[MODEL,this.str,this.maps.device.sprint.model],[TYPE,MOBILE]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[VENDOR,MODEL,[TYPE,TABLET]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[VENDOR,[MODEL,/_/g,' '],[TYPE,MOBILE]],[/(nexus\s9)/i],[MODEL,[VENDOR,'HTC'],[TYPE,TABLET]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[MODEL,[VENDOR,'Huawei'],[TYPE,MOBILE]],[/(microsoft);\s(lumia[\s\w]+)/i],[VENDOR,MODEL,[TYPE,MOBILE]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[MODEL,[VENDOR,'Microsoft'],[TYPE,CONSOLE]],[/(kin\.[onetw]{3})/i],[[MODEL,/\./g,' '],[VENDOR,'Microsoft'],[TYPE,MOBILE]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[MODEL,[VENDOR,'Motorola'],[TYPE,MOBILE]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[MODEL,[VENDOR,'Motorola'],[TYPE,TABLET]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[VENDOR,this.trim],[MODEL,this.trim],[TYPE,SMARTTV]],[/hbbtv.+maple;(\d+)/i],[[MODEL,/^/,'SmartTV'],[VENDOR,'Samsung'],[TYPE,SMARTTV]],[/\(dtv[\);].+(aquos)/i],[MODEL,[VENDOR,'Sharp'],[TYPE,SMARTTV]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[VENDOR,'Samsung'],MODEL,[TYPE,TABLET]],[/smart-tv.+(samsung)/i],[VENDOR,[TYPE,SMARTTV],MODEL],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[VENDOR,'Samsung'],MODEL,[TYPE,MOBILE]],[/sie-(\w+)*/i],[MODEL,[VENDOR,'Siemens'],[TYPE,MOBILE]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[VENDOR,'Nokia'],MODEL,[TYPE,MOBILE]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[MODEL,[VENDOR,'Acer'],[TYPE,TABLET]],[/android.+([vl]k\-?\d{3})\s+build/i],[MODEL,[VENDOR,'LG'],[TYPE,TABLET]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[VENDOR,'LG'],MODEL,[TYPE,TABLET]],[/(lg) netcast\.tv/i],[VENDOR,MODEL,[TYPE,SMARTTV]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],[MODEL,[VENDOR,'LG'],[TYPE,MOBILE]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[MODEL,[VENDOR,'Lenovo'],[TYPE,TABLET]],[/linux;.+((jolla));/i],[VENDOR,MODEL,[TYPE,MOBILE]],[/((pebble))app\/[\d\.]+\s/i],[VENDOR,MODEL,[TYPE,WEARABLE]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[VENDOR,MODEL,[TYPE,MOBILE]],[/crkey/i],[[MODEL,'Chromecast'],[VENDOR,'Google']],[/android.+;\s(glass)\s\d/i],[MODEL,[VENDOR,'Google'],[TYPE,WEARABLE]],[/android.+;\s(pixel c)\s/i],[MODEL,[VENDOR,'Google'],[TYPE,TABLET]],[/android.+;\s(pixel xl|pixel)\s/i],[MODEL,[VENDOR,'Google'],[TYPE,MOBILE]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[MODEL,/_/g,' '],[VENDOR,'Xiaomi'],[TYPE,MOBILE]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[MODEL,[VENDOR,'Meizu'],[TYPE,TABLET]],[/android.+a000(1)\s+build/i],[MODEL,[VENDOR,'OnePlus'],[TYPE,MOBILE]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[MODEL,[VENDOR,'RCA'],[TYPE,TABLET]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],[MODEL,[VENDOR,'Dell'],[TYPE,TABLET]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[MODEL,[VENDOR,'Verizon'],[TYPE,TABLET]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[VENDOR,'Barnes & Noble'],MODEL,[TYPE,TABLET]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[MODEL,[VENDOR,'NuVision'],[TYPE,TABLET]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[[VENDOR,'ZTE'],MODEL,[TYPE,TABLET]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[MODEL,[VENDOR,'Swiss'],[TYPE,MOBILE]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[MODEL,[VENDOR,'Swiss'],[TYPE,TABLET]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[MODEL,[VENDOR,'Zeki'],[TYPE,TABLET]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[[VENDOR,'Dragon Touch'],MODEL,[TYPE,TABLET]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],[MODEL,[VENDOR,'Insignia'],[TYPE,TABLET]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],[MODEL,[VENDOR,'NextBook'],[TYPE,TABLET]],[/android.+[;\/]\s*(Xtreme\_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[VENDOR,'Voice'],MODEL,[TYPE,MOBILE]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[[VENDOR,'LvTel'],MODEL,[TYPE,MOBILE]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[MODEL,[VENDOR,'Envizen'],[TYPE,TABLET]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],[VENDOR,MODEL,[TYPE,TABLET]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[MODEL,[VENDOR,'MachSpeed'],[TYPE,TABLET]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[VENDOR,MODEL,[TYPE,TABLET]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[MODEL,[VENDOR,'Rotor'],[TYPE,TABLET]],[/android.+(KS(.+))\s+build/i],[MODEL,[VENDOR,'Amazon'],[TYPE,TABLET]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],[VENDOR,MODEL,[TYPE,TABLET]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[TYPE,this.lowerize],VENDOR,MODEL],[/(android.+)[;\/].+build/i],[MODEL,[VENDOR,'Generic']]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[NAME,VERSION],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[NAME,[VERSION,this.str,this.maps.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[NAME,'Windows'],[VERSION,this.str,this.maps.os.windows.version]],[/\((bb)(10);/i],[[NAME,'BlackBerry'],VERSION],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[NAME,VERSION],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[NAME,'Symbian'],VERSION],[/\((series40);/i],[NAME],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[NAME,'Firefox OS'],VERSION],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[NAME,VERSION],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[NAME,'Chromium OS'],VERSION],[/(sunos)\s?([\w\.]+\d)*/i],[[NAME,'Solaris'],VERSION],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[NAME,VERSION],[/(haiku)\s(\w+)/i],[NAME,VERSION],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[VERSION,/_/g,'.'],[NAME,'iOS']],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[NAME,'Mac OS'],[VERSION,/_/g,'.']],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[NAME,VERSION]]}
this.ua=((window&&window.navigator&&window.navigator.userAgent)?window.navigator.userAgent:EMPTY);this.rgxmap=this.regexes;}
HotmobParser.prototype={extend:function(regexes,extensions){var margedRegexes={};for(var i in regexes){if(extensions[i]&&extensions[i].length%2===0){margedRegexes[i]=extensions[i].concat(regexes[i]);}else{margedRegexes[i]=regexes[i];}}
return margedRegexes;},has:function(str1,str2){if(typeof str1==="string"){return str2.toLowerCase().indexOf(str1.toLowerCase())!==-1;}else{return false;}},lowerize:function(str){return str.toLowerCase();},major:function(version){return typeof(version)==='string'?version.replace(/[^\d\.]/g,'').split(".")[0]:undefined;},trim:function(str){return str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'');},rgx:function(ua,arrays){var i=0,j,k,p,q,matches,match;while(i<arrays.length&&!matches){var regex=arrays[i],props=arrays[i+1];j=k=0;while(j<regex.length&&!matches){matches=regex[j++].exec(ua);if(!!matches){for(p=0;p<props.length;p++){match=matches[++k];q=props[p];if(typeof q==='object'&&q.length>0){if(q.length==2){if(typeof q[1]=='function'){this[q[0]]=q[1].call(this,match);}else{this[q[0]]=q[1];}}else if(q.length==3){if(typeof q[1]==='function'&&!(q[1].exec&&q[1].test)){this[q[0]]=match?q[1].call(this,match,q[2]):undefined;}else{this[q[0]]=match?match.replace(q[1],q[2]):undefined;}}else if(q.length==4){this[q[0]]=match?q[3].call(this,match.replace(q[1],q[2])):undefined;}}else{this[q]=match?match:undefined;}}}}
i+=2;}},str:function(string,map){for(var i in map){if(typeof map[i]==='object'&&map[i].length>0){for(var j=0;j<map[i].length;j++){if(hotmob_tag.mainManager.hmUA.has(map[i][j],string)){return(i==='?')?undefined:i;}}}else if(hotmob_tag.mainManager.hmUA.has(map[i],string)){return(i==='?')?undefined:i;}}
return string;},getBrowser:function(){var browser={name:undefined,version:undefined};this.rgx.call(browser,this.ua,this.rgxmap.browser);browser.major=this.major(browser.version);return browser;},getCPU:function(){var cpu={architecture:undefined};this.rgx.call(cpu,this.ua,this.rgxmap.cpu);return cpu;},getDevice:function(){var device={vendor:undefined,model:undefined,type:undefined};this.rgx.call(device,this.ua,this.rgxmap.device);return device;},getEngine:function(){var engine={name:undefined,version:undefined};this.rgx.call(engine,this.ua,this.rgxmap.engine);return engine;},getOS:function(){var os={name:undefined,version:undefined};this.rgx.call(os,this.ua,this.rgxmap.os);return os;},getResult:function(){return{ua:this.getUA(),browser:this.getBrowser(),os:this.getOS(),device:this.getDevice(),};},getUA:function(){return this.ua;},}
hotmobMraidController=function(container,mainDiv,frameTag){this.container=container;this.mainDiv=mainDiv;this.frameTag=frameTag;this.expandedFrameTag='';this.placementType=this.container.style.position=='fixed'?'interstital':'inline';this.divID="";}
hotmobMraidController.prototype={postMessage:function(event){this.divID=event.divID;if(event.target=="controller"){return this[event.action].apply(hotmob_tag.mraidController[event.divID],[event.arguments])}},getCurrentPosition:function(){return{x:this.container.offsetLeft,y:this.container.offsetTop,width:this.container.offsetWidth,height:this.container.offsetHeight}},getPlacementType:function(){return this.placementType;},expand:function(arguments){var thisMraidBanner=this;if(!arguments["url"]){}else{this.mainDiv.style.webkitOverflowScrolling='touch';this.mainDiv.style.overflowY='scroll';this.frameTag.style.display='none';this.expandedFrameTag=document.createElement('iframe');this.expandedFrameTag.src=arguments["url"];this.expandedFrameTag.scrolling="yes";this.expandedFrameTag.style.width="100%";this.expandedFrameTag.style.height="100%";this.expandedFrameTag.style.position="absolute";this.expandedFrameTag.style.backgroundColor="rgba(0,0,0,0.8)";this.expandedFrameTag.style.opacity=1;this.expandedFrameTag.style.overflow="scroll";this.expandedFrameTag.style.border=0;this.expandedFrameTag.style.zIndex=hotmob_tag.banners[thisMraidBanner.divID].zIndex;hotmob_tag.mainManager.addClass(document.getElementsByTagName('body')[0],"hotmob-popup-showing");this.mainDiv.appendChild(this.expandedFrameTag);}
if(!arguments["useCustomClose"]){this._setClose()}
this._resizeWrapper({width:arguments.width,height:arguments.height,position:"fixed"});this._maximizeAdContainer();},resize:function(arguments){this._resizeWrapper(arguments);if("default"==this.frameTag.contentWindow.mraid.getState())
this._setClose(arguments.customClosePosition);},close:function(fromState){if(fromState=="default"){hotmob_tag.banners[this.divID].close();}else{if(this.expandedFrameTag){this.expandedFrameTag.remove();this.mainDiv.style.webkitOverflowScrolling='touch';this.mainDiv.style.overflowY='';hotmob_tag.mainManager.removeClass(document.getElementsByTagName('body')[0],'hotmob-popup-showing');}
if(hotmob_tag.banners[this.divID].closeButton)
hotmob_tag.banners[this.divID].closeButton.remove();this.frameTag.style.display='block';this._resizeWrapper({});this._minimizeAdContainer();}},_resizeWrapper:function(arguments){var position=arguments.position||((arguments.x)||(arguments.y))?"absolute":"static";if(arguments.width&&arguments.height){this.mainDiv.style.width=arguments.width+'px';this.mainDiv.style.height=arguments.height+'px';}else{}
this.mainDiv.style.position=position;this.mainDiv.style.overflow=position=="absolute"?"hidden":"visible";this.mainDiv.style.top=(arguments.y||0)+"px";this.mainDiv.style.left=(arguments.x||0)+"px";},_maximizeAdContainer:function(){var thisMraidBanner=this;this.mainDiv.style.width="100%";this.mainDiv.style.height="100%";this.mainDiv.style.position="fixed";this.mainDiv.style.zIndex=hotmob_tag.banners[thisMraidBanner.divID].zIndex;this.mainDiv.style.top=0;this.mainDiv.style.left=0;this.mainDiv.style.right=0;this.mainDiv.style.bottom=0;this.frameTag.style.width="100%";this.frameTag.style.height="100%";},_minimizeAdContainer:function(){var thisMraidBanner=this;this.mainDiv.style.width="100%";this.mainDiv.style.height="100%";this.mainDiv.style.position="relative";this.mainDiv.style.zIndex=hotmob_tag.banners[thisMraidBanner.divID].zIndex;this.mainDiv.style.top=0;this.mainDiv.style.left=0;this.mainDiv.style.right=0;this.mainDiv.style.bottom=0;this.frameTag.style.width="100%";this.frameTag.style.height="100%";},_setClose:function(customClosePosition){var thisMraidBanner=this;var mraidClose=(function(){thisMraidBanner.frameTag.contentWindow.mraid.close();});hotmob_tag.banners[this.divID].genCloseButton(this.mainDiv,mraidClose,customClosePosition,'absolute')},}
hotmobBannerManager=function(adcode,sizeArray,adFormatType,divID){this.adCode=adcode;this.sizeArray=sizeArray;this.adFormatType=adFormatType;this.divID=divID;this.isSmartBanner=true;this.bgOpacity=false;this.bgColor=false;this.coldFreq=0;this.coldTimeSeconds=0;this.reloadTime=0;this.maxReloadTime=3;this.closeTime=0;this.allowSmartBottomBannerOnLandscape=false;this.stopAllBannerWhenPopupShow=false;this.shouldPopupCoverOverCloseButton=true;this.stopCallingOnOSs=new Array();this.stopPopupStyleClassInjection=true;this.thirdPartyMacro=false;this.popupCloseButtonPosition="fixed";this.zIndex=2000000;if(adFormatType=="popup"){this.zIndex=6000000;}else if(adFormatType=="bottomBanner"){this.zIndex=4000000;}
this.eventListenrList=new Array();this.bannerLoaded=false;this.container="";this.closeButton="";this.mainDiv="";this.content="";this.frameTag="";this.parent="";this.json="";this.adv="";this.bannerClosed=false;this.HTMLParams={};this.containerViewing=false;this.pageViewing=false;this.isFullScreen=true;this.clickToExpand=false;}
hotmobBannerManager.prototype={genBanner:function(){try{hotmob_tag.mainManager.debug(' Hotmob Debug Log: Banner Generate Start ');var thisBanner=this;if(!this.container)this.container=document.getElementById(this.divID);this.container.setAttribute('class','hotmob-ad-container');this.container.style.position="relative";this.container.style.width=this.advWidth+"px";this.container.style.height=this.advHeight+"px";this.show();hotmob_tag.mainManager.addClass(this.container,"hotmob-banner");if(this.config.allowclose>0){this.genCloseButton(this.container,(function(){thisBanner.close();}),'banner-close-button');}
this.genContent();}catch(e){hotmob_tag.mainManager.debug(' Hotmob Debug Log: Banner Generate Error: ',e);}},genBottomBanner:function(){try{hotmob_tag.mainManager.debug(' Hotmob Debug Log: BottomBanner Generate Start ');var thisBanner=this;if(!this.container)this.container=document.getElementById(this.divID);this.parent=this.container.parentNode;this.container.setAttribute('class','hotmob-ad-container');this.container.style.width=this.advWidth+'px';this.container.style.height=this.advHeight+'px';this.container.style.position="fixed";this.container.style.right=0;this.container.style.left=0;this.container.style.bottom=0;this.container.style.zIndex=this.zIndex;this.show();hotmob_tag.mainManager.addClass(this.container,"hotmob-bottom-banner");this._backgroundLayer=document.createElement("div");this._backgroundLayer.setAttribute('id','hotmob-ad-banner-background-'+this.divID);this._backgroundLayer.setAttribute('class','hotmob-ad-banner-background');this._backgroundLayer.style.width="100%";this._backgroundLayer.style.height=this.advHeight+'px';this._backgroundLayer.style.bottom=0;this._backgroundLayer.style.right=0;this._backgroundLayer.style.left=0;this._backgroundLayer.style.position="fixed";this._backgroundLayer.style.backgroundColor=this.bgColor;this._backgroundLayer.style.opacity=this.bgOpacity;this.container.appendChild(this._backgroundLayer);this._webSiteBottomBannerLayer=document.createElement("div");this._webSiteBottomBannerLayer.setAttribute('id','hotmob-website-bottom-banner-layer-'+this.divID);this._webSiteBottomBannerLayer.setAttribute('class','hotmob-website-bottom-banner-layer');this._webSiteBottomBannerLayer.style.width="100%";this._webSiteBottomBannerLayer.style.height=this.advHeight+'px';this._webSiteBottomBannerLayer.style.bottom=0;this._webSiteBottomBannerLayer.style.right=0;this._webSiteBottomBannerLayer.style.left=0;this._webSiteBottomBannerLayer.style.position="relative";this.parent.appendChild(this._webSiteBottomBannerLayer);if(this.config.allowclose>0){this.genCloseButton(this.container,(function(){thisBanner.close();}),'banner-close-button');}
this.genContent();}catch(e){hotmob_tag.mainManager.debug(' Hotmob Debug Log: BottomBanner Generate Error: ',e);}},genCloseButton:function(container,onClickFunction,buttonClass,stylePosition,backgroundPosition,backgroundSize,buttonHeight,buttonWidth){this.closeButton=document.createElement("div");var thisBanner=this;if(!buttonClass){this.closeButton.setAttribute('class','hotmob-ad-close-button');}else{this.closeButton.setAttribute('class','hotmob-ad-close-button '+buttonClass);}
if(this.config.closetimeout&&this.config.closetimeout>0){hotmob_tag.mainManager.addClass(this.closeButton,"counting");var closeButtonText=document.createElement("p");thisBanner.closeButton.appendChild(closeButtonText);var closeCountDown=(function(s){closeButtonText.innerHTML=s;if(s>0){setTimeout(function(){s=s-1;closeCountDown(s);},1000);}else{hotmob_tag.mainManager.hotmobAddEventListener(thisBanner.closeButton,'click',onClickFunction,thisBanner.eventListenrList);hotmob_tag.mainManager.removeClass(thisBanner.closeButton,"counting");}});closeCountDown(thisBanner.config.closetimeout);}else{hotmob_tag.mainManager.hotmobAddEventListener(thisBanner.closeButton,'click',onClickFunction,thisBanner.eventListenrList);}
if(buttonHeight){this.closeButton.style.height=buttonHeight;}
if(buttonWidth){this.closeButton.style.width=buttonWidth;}
if(stylePosition){this.closeButton.style.position=stylePosition;}
if(backgroundSize){this.closeButton.style.backgroundSize=backgroundSize;}
this.closeButton.style.zIndex=this.zIndex+1000;if(backgroundPosition){this.closeButton.style.backgroundPosition=backgroundPosition;}
this.closeButton.style.backgroundRepeat='no-repeat';container.appendChild(this.closeButton);},genPopup:function(){try{hotmob_tag.mainManager.debug(' Hotmob Debug Log: Popup Generate Start ');if(!this.stopPopupStyleClassInjection){hotmob_tag.mainManager.addClass(document.getElementsByTagName('body')[0],"hotmob-popup-showing");}
var thisBanner=this;if(!this.container)this.container=document.getElementById(this.divID);this.container.setAttribute('class','hotmob-ad-container');this.container.style.width="100%";this.container.style.height="100%";this.container.style.position="fixed";this.container.style.top=0;this.container.style.bottom=0;this.container.style.right=0;this.container.style.left=0;this.container.style.zIndex=this.zIndex;this.container.style.margin='auto';hotmob_tag.mainManager.addClass(this.container,"hotmob-popup");this.show();var _backgroundLayer=document.createElement("div");_backgroundLayer.setAttribute('class','hotmob-ad-popup-background');if(this.bgColor)
_backgroundLayer.style.backgroundColor=this.bgColor;if(this.bgOpacity)
_backgroundLayer.style.opacity=this.bgOpacity;this.container.appendChild(_backgroundLayer);this._popupCover=document.createElement("div");this._popupCover.setAttribute('id','hotmob-ad-popup-cover-'+this.divID);this._popupCover.setAttribute('class','hotmob-ad-popup-cover');this._popupCover.style.height="100%";this._popupCover.style.width="100%";this._popupCover.style.top=0;this._popupCover.style.bottom=0;this._popupCover.style.right=0;this._popupCover.style.left=0;if(this.shouldPopupCoverOverCloseButton){this._popupCover.style.zIndex=1500;}else{this._popupCover.style.zIndex=500;}
this._popupCover.style.backgroundColor='#000';this._popupCover.style.opacity='0.8'
this._popupCover.style.display='none';this.container.appendChild(this._popupCover);this._popupCoverText=document.createElement("div");this._popupCoverText.setAttribute('id','hotmob-ad-popup-cover-text-'+this.divID);this._popupCoverText.setAttribute('class','hotmob-ad-popup-cover-text');this._popupCoverText.style.top=0;this._popupCoverText.style.bottom=0;this._popupCoverText.style.right=0;this._popupCoverText.style.left=0;this._popupCoverText.style.position="absolute";this._popupCoverText.style.textAlign="center";this._popupCoverText.style.width="100%";this._popupCoverText.style.height='50px';this._popupCoverText.style.margin='auto';this._popupCoverText.style.zIndex=1200;this._popupCover.appendChild(this._popupCoverText);this._popupCoverText.appendChild(hotmob_tag.mainManager.popupLandscapeCoverText);var shouldShowPopupCoverShow=(function(){var deviceHeight;var campaignHeight;if(!thisBanner.mainDiv.style){campaignHeight=thisBanner.advHeight;}else{campaignHeight=thisBanner.mainDiv.style.height.replace('px','');}
if(hotmob_tag.mainManager.deviceInnerHeight>hotmob_tag.mainManager.deviceInnerWidth){deviceHeight=hotmob_tag.mainManager.deviceInnerWidth;}else{deviceHeight=hotmob_tag.mainManager.deviceInnerHeight;}
if(campaignHeight>deviceHeight&&hotmob_tag.mainManager.orientationState=='landscape'){thisBanner._popupCover.style.display='block';}});var shouldShowPopupCoverHidden=(function(){thisBanner._popupCover.style.display='none';});shouldShowPopupCoverShow();hotmob_tag.mainManager.hotmobAddEventListener(window,'landscape',shouldShowPopupCoverShow,this.eventListenrList);hotmob_tag.mainManager.hotmobAddEventListener(window,'portrait',shouldShowPopupCoverHidden,this.eventListenrList);if(this.popupCloseButtonPosition){stylePosition=this.popupCloseButtonPosition;}
if(this.config.allowclose>0){this.genCloseButton(this.container,(function(){thisBanner.close();}),'hotmob-ad-popup-close-button',stylePosition);}
this.genContent();}catch(e){hotmob_tag.mainManager.debug(' Hotmob Debug Log: Popup Generate Error: ',e);}},genContent:function(){try{hotmob_tag.mainManager.debug(' Hotmob Debug Log: Content Generate Start ');var thisBanner=this;this.bannerClosed=false;if(!this.container)this.container=document.getElementById(this.divID);this.parent=this.container.parentNode;this.mainDiv=document.createElement("div");this.mainDiv.setAttribute('id','hotmob-ad-main-div-'+this.advCreativeId);this.mainDiv.setAttribute('class','hotmob-ad-main-div');this.mainDiv.style.position='relative';this.mainDiv.style.width="100%";this.mainDiv.style.height="100%";hotmob_tag.mainManager.addClass(this.mainDiv,"hotmob-loading");this.frameTag=document.createElement("iframe");this.frameTag.setAttribute('id','hotmob-iframe-'+this.advCreativeId);this.frameTag.setAttribute('allowtransparency','true');this.frameTag.setAttribute('scrolling','no');this.frameTag.style.top='0';this.frameTag.style.right='0';this.frameTag.style.left='0';this.frameTag.style.bottom='0';this.frameTag.style.borderWidth='0';this.frameTag.style.width="100%";this.frameTag.style.height="100%";this.mainDiv.appendChild(this.frameTag);this.container.appendChild(this.mainDiv);hotmob_tag.mainManager.addClass(this.container,"adcode-"+this.adCode);hotmob_tag.mainManager.addClass(this.container,"type-"+this.advType);thisBanner.redirectURL=hotmob_tag.mainManager.hotmobURLDeconde(this.advURLPath)
if(thisBanner.thirdPartyMacro&&thisBanner.thirdPartyMacro.clickMacroURL){thisBanner.HTMLParams.ct=encodeURIComponent(thisBanner.thirdPartyMacro.clickMacroURL);thisBanner.HTMLParams.isMacroRedirect=thisBanner.thirdPartyMacro.isMacroRedirect;}
if(this.thirdPartyMacro&&this.thirdPartyMacro.clickMacroURL){thisBanner.redirectURL=this.thirdPartyMacro.clickMacroURL+encodeURIComponent(thisBanner.redirectURL);}
var iFrameHtml=this.frameTag.contentDocument.documentElement;if(!iFrameHtml)
iFrameHtml=this.frameTag.contentWindow.document
var iFrameHead=this.frameTag.contentDocument.querySelector('head');if(!iFrameHead&&iFrameHtml){iFrameHead=this.frameTag.contentDocument.createElement('head');iFrameHtml.insertBefore(iFrameHead,iFrameHtml.firstChild);}
var iFrameBody=this.frameTag.contentDocument.querySelector('body');if(!iFrameBody&&iFrameHtml){iFrameBody=this.frameTag.contentDocument.createElement('body');}
iFrameBody.style.width="100%";;iFrameBody.style.height="100%";;iFrameBody.style.margin=0;switch(this.advType){case"1":var imageContent=document.createElement("img");imageContent.style.width=this.advWidth+"px";imageContent.style.height=this.advHeight+"px";imageContent.src=hotmob_tag.mainManager.hotmobURLDeconde(this.advImgPath);var redirectContent=document.createElement("a");redirectContent.href=thisBanner.redirectURL;redirectContent.style.width='100%';redirectContent.style.height='100%';redirectContent.style.position='absolute';redirectContent.target="_blank";redirectContent.appendChild(imageContent);this.smartResize(thisBanner,imageContent);this.smartResize(thisBanner,thisBanner.container);this.content=redirectContent;break;case"2":this.mainDiv.style.width=this.advWidth+"px";this.mainDiv.style.height=this.advHeight+"px";this.mainDiv.style.top=0;this.mainDiv.style.bottom=0;this.mainDiv.style.left=0;this.mainDiv.style.right=0;this.mainDiv.style.margin='auto';this.mainDiv.style.position='absolute';this.frameTag.style.width=this.advWidth+"px";this.frameTag.style.height=this.advHeight+"px";this.smartResize(thisBanner,thisBanner.mainDiv);this.smartResize(thisBanner,thisBanner.container);this.smartResize(thisBanner,thisBanner.frameTag);if(this.adFormatType=='bottomBanner'){this.smartResize(thisBanner,thisBanner._backgroundLayer,true);this.smartResize(thisBanner,thisBanner._webSiteBottomBannerLayer,true);}
this.frameTag.src=hotmob_tag.mainManager.urlAddParams(thisBanner.advHTMLPath,thisBanner.HTMLParams);this.content=document.createElement("div");break;case"3":hotmob_tag.mainManager.addClass(this.container,"hotmob-video");hotmob_tag.mainManager.addClass(this.container,"animation");if(this.advHTMLPath.length>0){this.advWidth=320;this.advHeight=320;}
var currentViewport=hotmob_tag.mainManager.getMetaElementByAttribute("name","viewport");if(!currentViewport){hotmob_tag.mainManager.setMetaElementByAttribute("name","viewport","user-scalable=no");}else{var userScalable=currentViewport.content.indexOf("user-scalable")
if(userScalable>0){var newViewport=currentViewport.content.replace("user-scalable=yes","user-scalable=no");newViewport=newViewport.replace("user-scalable=1","user-scalable=0");hotmob_tag.mainManager.setMetaElementByAttribute("name","viewport",newViewport);}else{hotmob_tag.mainManager.setMetaElementByAttribute("name","viewport",currentViewport.content+",user-scalable=no");}}
if(this.adFormatType=='popup'){this.isSmartBanner=true;}
if(this.isSmartCreative||this.isSmartBanner){this.isSmartCreative=1;this.isSmartBanner=true;if(this.adFormatType=='popup'){this.smartBannerMaxWidth=false;}else if(this.adFormatType=='bottomBanner'){this.smartBannerMaxWidth=320;this.allowSmartBottomBannerOnLandscape=true;this.smartResize(thisBanner,thisBanner.container);this.smartResize(thisBanner,thisBanner._backgroundLayer,true);this.smartResize(thisBanner,thisBanner._webSiteBottomBannerLayer,true);}else{this.smartResize(thisBanner,thisBanner.container);}}
if(thisBanner.advHTMLPath||thisBanner.advHTMLPath!=""){this.frameTag.src=hotmob_tag.mainManager.urlAddParams(thisBanner.advHTMLPath,thisBanner.HTMLParams);this.mainDiv.style.width=this.advWidth+"px";this.mainDiv.style.height=this.advHeight+"px";this.mainDiv.style.margin="auto";this.smartResize(thisBanner,thisBanner.frameTag);this.smartResize(thisBanner,thisBanner.mainDiv);}else{this.mainDiv.style.width="0px";this.mainDiv.style.height="0px";}
this.isFullScreen=(this.adFormatType=="popup")?true:false;if(this.adFormatType=='popup'){this._popupCover.parentNode.removeChild(this._popupCover);}else{this.clickToExpand=true;}
this.content=document.createElement("div");if(window.screen.height>window.screen.width){if(window.screen.height<=(960/2)&&thisBanner.advHTMLPath!=""){break;}}else{if(window.screen.width<=(960/2)&&thisBanner.advHTMLPath!=""){break;}}
hotmob_tag.mainManager.scriptInjection(document.getElementsByTagName('head')[0],hotmob_tag.mainManager.inlinePlayVideoJS,function(){try{hotmob_tag.mainManager.debug(' Hotmob Debug Log: Inline Video Script Loading Success');hotmob_tag.mainManager.scriptInjection(document.getElementsByTagName('head')[0],hotmob_tag.mainManager.hmVideoPlayerJS,function(){hotmob_tag.mainManager.debug(' Hotmob Debug Log: Hotmob Video Player Script Loading Success');thisBanner.hotmobVideoPlayer=new HotmobVideoPlayer({framesPerSecond:25,hideVideo:true,isSmartResize:true,autoplay:true,audio:false,muted:true,timelineSelector:false,resetOnLastFrame:true,loop:false,banner:thisBanner,src:hotmob_tag.mainManager.urlAddParams(thisBanner.advVideoPath,{t:thisBanner.t}),allowFullScreen:thisBanner.isFullScreen,clickToExpand:thisBanner.clickToExpand,});var unBindVideo=(function(){thisBanner.hotmobVideoPlayer.unbind();});var singlePlayerThread=(function(){thisBanner.hotmobVideoPlayer.singlePlayerThread(thisBanner);});thisBanner.clickHooked=thisBanner.onAdClickCallback;thisBanner.onAdClickCallback=(function(thisBanner){thisBanner.clickHooked(thisBanner);thisBanner.hotmobVideoPlayer.hmVPHandlers.stopProcess();});thisBanner.closeHooked=thisBanner.close;thisBanner.close=(function(){thisBanner.closeHooked();unBindVideo();singlePlayerThread();})},function(){hotmob_tag.mainManager.debug(' Hotmob Debug Log: Hotmob Video Player Script Loading Error');});}catch(e){thisBanner.mainDiv.appendChild(e)}},function(){hotmob_tag.mainManager.debug(' Hotmob Debug Log: Inline Video Script Loading Error');});break;case"4":hotmob_tag.mainManager.thirdPartyContent[thisBanner.advCreativeId]={};this.mainDiv.style.width=this.advWidth+"px";this.mainDiv.style.height=this.advHeight+"px";this.mainDiv.style.top=0;this.mainDiv.style.bottom=0;this.mainDiv.style.left=0;this.mainDiv.style.right=0;this.mainDiv.style.margin='auto';this.mainDiv.style.position='relative';if(this.adFormatType=="popup")
this.mainDiv.style.position='absolute';this.frameTag.style.width=this.advWidth+"px";this.frameTag.style.height=this.advHeight+"px";this.frameTag.style.top=0;this.frameTag.style.bottom=0;this.frameTag.style.left=0;this.frameTag.style.right=0;this.frameTag.style.margin='auto';this.frameTag.style.position='absolute';this.smartResize(thisBanner,thisBanner.mainDiv);this.smartResize(thisBanner,thisBanner.container);this.smartResize(thisBanner,thisBanner.frameTag);hotmob_tag.mainManager.addClass(thisBanner.container,"hm-mraid-support friendy-iframe");hotmob_tag.mainManager.scriptInjection(document.getElementsByTagName('head')[0],hotmob_tag.mainManager.urlAddParams(thisBanner.advHTMLPath,thisBanner.HTMLParams),function(){if(!hotmob_tag.mraidController){hotmob_tag.mraidController=new Array();}
hotmob_tag.mraidController[thisBanner.divID]=new hotmobMraidController(thisBanner.container,thisBanner.mainDiv,thisBanner.frameTag);if(hotmob_tag.mainManager.thirdPartyContent[thisBanner.advCreativeId]){thisBanner.frameTag.onload=(function(){hotmob_tag.mainManager.debug(" Hotmob Debug Log: Type4 IFrame Loaded");});var replacedContent=hotmob_tag.mainManager.replaceAllBetween(hotmob_tag.mainManager.thirdPartyContent[thisBanner.advCreativeId].htmlString,hotmob_tag.mainManager.clickMacro,thisBanner.redirectURL);thisBanner.frameTag.contentWindow.inDapIF=true
thisBanner.frameTag.contentDocument.open();hotmob_tag.mainManager.debug(" Hotmob Debug Log: Type4 IFrame Write Open");var iFrameBase=thisBanner.frameTag.contentDocument.createElement("base");iFrameBase.href=hotmob_tag.mainManager.http+hotmob_tag.mainManager.sourcePath;thisBanner.frameTag.contentDocument.write(iFrameBase.outerHTML);var style=document.createElement('link');style.rel="stylesheet";style.type="text\/css";style.href=hotmob_tag.mainManager.iframeStylePath;thisBanner.frameTag.contentDocument.write(style.outerHTML);var adSpaceID=thisBanner.frameTag.contentDocument.createElement("ad-space-id");adSpaceID.id='adSpaceId';adSpaceID.setAttribute('value',thisBanner.divID);thisBanner.frameTag.contentDocument.write(adSpaceID.outerHTML);if(hotmob_tag.mainManager.thirdPartyContent[thisBanner.advCreativeId].hmTrackPixel!=""){hotmob_tag.mainManager.imageAppend(thisBanner.frameTag.contentDocument.body,hotmob_tag.mainManager.thirdPartyContent[thisBanner.advCreativeId].hmTrackPixel,(function(){hotmob_tag.mainManager.debug(' Hotmob Debug Log: Onloaded hmTrackPixel ')}),(function(){hotmob_tag.mainManager.debug(' Hotmob Debug Log: Fail Load hmTrackPixel ')}));}
if(hotmob_tag.mainManager.thirdPartyContent[thisBanner.advCreativeId].frxTrackPixel!=""){hotmob_tag.mainManager.imageAppend(thisBanner.frameTag.contentDocument.body,hotmob_tag.mainManager.thirdPartyContent[thisBanner.advCreativeId].frxTrackPixel,(function(){hotmob_tag.mainManager.debug(' Hotmob Debug Log: Onloaded frxTrackPixel ')}),(function(){hotmob_tag.mainManager.debug(' Hotmob Debug Log: Fail Load frxTrackPixel ')}));}
thisBanner.frameTag.contentDocument.write(replacedContent);thisBanner.frameTag.contentDocument.close();hotmob_tag.mainManager.debug(" Hotmob Debug Log: Type4 IFrame Write Close");}},function(){hotmob_tag.mainManager.debug(' Hotmob Debug Log: 3rd party Script Loading Error');});this.content=document.createElement("div");break;}
if(this.onAdClickCallback){var iframeClickable=false;var clicked=false;hotmob_tag.mainManager.hotmobAddEventListener(thisBanner.frameTag,'touchstart',(function(){iframeClickable=true;}),this.eventListenrList);hotmob_tag.mainManager.hotmobAddEventListener(thisBanner.frameTag,'touchmove',(function(){iframeClickable=true;}),this.eventListenrList);hotmob_tag.mainManager.hotmobAddEventListener(thisBanner.frameTag,'touchend',(function(){iframeClickable=true;}),this.eventListenrList);hotmob_tag.mainManager.hotmobAddEventListener(thisBanner.frameTag,'mousedown',(function(){iframeClickable=true;}),this.eventListenrList);hotmob_tag.mainManager.hotmobAddEventListener(thisBanner.frameTag,'mouseover',(function(){iframeClickable=true;}),this.eventListenrList);hotmob_tag.mainManager.hotmobAddEventListener(thisBanner.frameTag,'mouseout',(function(){iframeClickable=false;}),this.eventListenrList);hotmob_tag.mainManager.hotmobAddEventListener(window,'blur',(function(){if(iframeClickable==true&&clicked==false){hotmob_tag.mainManager.debug(' Hotmob Debug Log: On Ad Click Callback ');clicked=true;thisBanner.onAdClickCallback(thisBanner);}}),this.eventListenrList);}
iFrameBody.appendChild(this.content);this.bannerLoaded=true;if(this.stopAllBannerWhenPopupShow==true){hotmob_tag.mainManager.hotmobEventTrigger(window,'stopHotmobSDKProcess');}
if(this.reloadTime>0){setTimeout(function(){thisBanner.close();},(this.reloadTime*1000));}}catch(e){hotmob_tag.mainManager.debug(' Hotmob Debug Log: Content Generate Error: ',e);}},smartResize:function(banner,container,fullWidthBanner){if(banner.isSmartCreative==1){if(banner.isSmartBanner){var bannerResizeEvent=(function(){var parentElementWidth=parseInt(window.getComputedStyle(banner.parent,null).getPropertyValue("width"));if(banner.adFormatType=="popup"){parentElementWidth=window.innerWidth;;if(window.inDapIF){parentElementWidth=window.top.innerWidth;}}
var advHeight=(parentElementWidth/banner.advWidth)*banner.advHeight;var advWidth=parentElementWidth;if(banner.smartBannerMaxWidth){if(banner.smartBannerMaxWidth<advWidth){advWidth=banner.smartBannerMaxWidth;advHeight=(advWidth/banner.advWidth)*banner.advHeight;}}
if(!fullWidthBanner){container.style.width=advWidth+"px";}else{container.style.width="100%";}
container.style.height=advHeight+"px";if(banner.adFormatType=='bottomBanner'&&!banner.allowSmartBottomBannerOnLandscape&&hotmob_tag.mainManager.orientationState=='landscape'){if(!fullWidthBanner){container.style.width=banner.advWidth+'px';}else{container.style.width="100%";}
container.style.height=banner.advHeight+'px';}});bannerResizeEvent();hotmob_tag.mainManager.hotmobAddEventListener(window,'landscape',bannerResizeEvent,this.eventListenrList);hotmob_tag.mainManager.hotmobAddEventListener(window,'portrait',bannerResizeEvent,this.eventListenrList);hotmob_tag.mainManager.hotmobAddEventListener(window,'scroll',bannerResizeEvent,this.eventListenrList);hotmob_tag.mainManager.hotmobAddEventListener(window,'resize',bannerResizeEvent,this.eventListenrList);}else{var comparingRate=[];var sizeArray=banner.sizeArray;if(!(banner.sizeArray.constructor===Array))
sizeArray=JSON.parse("["+banner.sizeArray+"]");if(banner.sizeArray[0].constructor!==Array)
sizeArray=JSON.parse("[["+banner.sizeArray+"]]");for(var i=0;i<sizeArray.length;i++){var ratio=sizeArray[i][0]/banner.advWidth;comparingRate.push(Math.abs((banner.advHeight*ratio-sizeArray[i][1])));}
var index=comparingRate.indexOf(Math.min.apply(Math,comparingRate));container.style.width=sizeArray[index][0]+"px";container.style.height=sizeArray[index][1]+"px";}}else if(banner.isSmartCreative==2){if(banner.isSmartBanner){var bannerResizeEvent=(function(){container.style.width="100%";container.style.height="100%";});bannerResizeEvent();hotmob_tag.mainManager.hotmobAddEventListener(window,'resize',bannerResizeEvent,this.eventListenrList);}}},close:function(){if(!this.bannerClosed){this.container.innerHTML='';hotmob_tag.mainManager.addClass(this.container,"ad-hidden");hotmob_tag.mainManager.removeClass(this.container,"ad-showing");this.bannerClosed=true;hotmob_tag.mainManager.removeClass(document.getElementsByTagName('body')[0],'hotmob-popup-showing');if(this.adFormatType=='bottomBanner'){document.getElementById("hotmob-website-bottom-banner-layer-"+this.divID).remove();}
hotmob_tag.mainManager.hotmobRemoveEventListenerFromList(this.eventListenrList);if(this.onAdCloseCallback){hotmob_tag.mainManager.debug(' Hotmob Debug Log: On Ad Close Callback ');this.onAdCloseCallback(this);}
if(this.stopAllBannerWhenPopupShow==true){hotmob_tag.mainManager.commandProcessReActive();}
if(this.reloadTime>0){hotmob_tag.display(this.divID);this.container.style.display="block";}}},show:function(){hotmob_tag.mainManager.addClass(this.container,"ad-showing");hotmob_tag.mainManager.removeClass(this.container,"ad-hidden");}
}
hotmobDataCollector=function(){this.COOKIENAME="hm_dc_session_id";this.COOKIEEXPIRES=900;this.POSTRENDER=hotmob_tag.mainManager.postMethod;this.POSTFRAMEID="post-iframe-";this.EVENTCONTAINERID="hm-post-container";this.ENDPOINT="https://trk.hot-mob.com/api/v1/dc/"
this.params={s:hotmob_tag.mainManager.sessionID,oo:0,app_ver:"",app_id:hotmob_tag.mainManager.domainSite,sdk:3,ver:hotmob_tag.mainManager.sdkVersion,ss:"",t:"sdk-event",e:"",d:"",token:"",_:"",duration:"",lat:"",lon:"",referrer:encodeURIComponent(document.referrer),url:encodeURIComponent(window.location.href)};this.DCSessionID=hotmob_tag.mainManager.getCurrentCookie(this.COOKIENAME);}
hotmobDataCollector.prototype={init:function(){var self=this;if(!this.DCSessionID||this.DCSessionID==""){this.DCSessionID=hotmob_tag.mainManager.generateToken(32,"0123456789abcdef");}
if(!this.params.s||this.params.s==""){this.params.s=hotmob_tag.mainManager.sessionID;}
this.sessionExtend();this.bind();this.ENDPOINT=this.ENDPOINT+this.DCSessionID;this.container=document.createElement("div");this.container.id=this.EVENTCONTAINERID;this.container.style.display="none";if(document.getElementsByTagName('body')){document.getElementsByTagName('body')[0].appendChild(self.container);}else{this.addEventListener(window,"load",function(){document.getElementsByTagName('body')[0].appendChild(self.container);});}},bind:function(){var self=this;this.addEventListener(window,"scroll",function(){self.sessionExtend()});this.addEventListener(window,"touch",function(){self.sessionExtend()});this.addEventListener(window,"click",function(){self.sessionExtend()});this.addEventListener(window,"resize",function(){self.sessionExtend()});},sessionExtend:function(){if(!hotmob_tag.mainManager.getCurrentCookie(this.COOKIENAME)){this.DCSessionID=hotmob_tag.mainManager.generateToken(32,"0123456789abcdef");}
hotmob_tag.mainManager.setCookie(this.COOKIENAME,this.DCSessionID,this.COOKIEEXPIRES);},iframeRender:function(eventName,data,token,callback){var response={success:false,token:this.params.token,eventName:this.params.e}
var frameTag=document.createElement("iframe");frameTag.id=this.POSTFRAMEID+eventName;frameTag.style.display="none";frameTag.name=data;this.addEventListener(frameTag,"load",function(){response.success=true;if(callback)
callback(response);});frameTag.src=this.POSTRENDER+"?r="+token;this.container.appendChild(frameTag);},captureEvent:function(eventName,eventData,callback){this.params.e=eventName;if(eventData)
this.params.d=JSON.stringify(eventData);this.params.token=hotmob_tag.mainManager.generateToken(32,"0123456789abcdef");this.params._=Math.floor(Date.now());if(!this.params.e){hotmob_tag.mainManager.debug(' Hotmob Debug Log: Must include Event Name ');return false;}
var data={id:this.DCSessionID,ep:this.ENDPOINT,data:this.params}
this.iframeRender(this.params.token,JSON.stringify(data),this.params.token,callback)},addEventListener:function(container,e,callback){hotmob_tag.mainManager.hotmobAddEventListener(container,e,callback);},}
var hotmob_tag=hotmob_tag||{};hotmob_tag.define=function(adcode,sizeArray,adFormatType,divID){hotmob_tag.mainManager.debug(' Hotmob Debug Log: Define start '+adcode);hotmob_tag.banners[divID]=new hotmobBannerManager(adcode,sizeArray,adFormatType,divID);hotmob_tag.features=function(){};hotmob_tag.features.isSmartBanner=function(isSmartBanner,nonSmartBannerWidth){hotmob_tag.banners[divID].isSmartBanner=isSmartBanner;if(nonSmartBannerWidth)
hotmob_tag.banners[divID].nonSmartBannerWidth=nonSmartBannerWidth;};hotmob_tag.features.setSmartBannerMaxWidth=function(smartBannerMaxWidth){hotmob_tag.banners[divID].smartBannerMaxWidth=smartBannerMaxWidth;};hotmob_tag.features.setBackGroundOpacity=function(bgOpacity){hotmob_tag.banners[divID].bgOpacity=bgOpacity;};hotmob_tag.features.setBackGroundColor=function(bgcolor){hotmob_tag.banners[divID].bgColor=bgcolor;};hotmob_tag.features.setZIndex=function(zIndex){hotmob_tag.banners[divID].zIndex=zIndex;};hotmob_tag.features.setColdFreq=function(times){hotmob_tag.banners[divID].coldFreq=times;}
hotmob_tag.features.setColdTimeSeconds=function(second){hotmob_tag.banners[divID].coldTimeSeconds=second;}
hotmob_tag.features.setReloadTime=function(second){hotmob_tag.banners[divID].reloadTime=second;}
hotmob_tag.features.setReloadMaximum=function(times){hotmob_tag.banners[divID].maxReloadTime=times;}
hotmob_tag.features.setCloseTime=function(closeSecond){hotmob_tag.banners[divID].closeTime=closeSecond;}
hotmob_tag.features.allowSmartBottomBannerOnLandscape=function(allow){hotmob_tag.banners[divID].allowSmartBottomBannerOnLandscape=allow;}
hotmob_tag.features.setClickMacro=function(clickMacroURL,isMacroRedirect){hotmob_tag.banners[divID].thirdPartyMacro={clickMacroURL:clickMacroURL,isMacroRedirect:isMacroRedirect}}
hotmob_tag.features.setTargeting=function(key,value){hotmob_tag.banners[divID].keyValue=hotmob_tag.banners[divID].keyValue||{}
hotmob_tag.banners[divID].keyValue[key]=value;}
hotmob_tag.features.isVAST=function(){hotmob_tag.banners[divID].isVAST=true;}
hotmob_tag.features.setStopCallingOnOSs=function(deviceOSs){var i=0;while(i<deviceOSs.length){switch(deviceOSs[i])
{case"android":if(hotmob_tag.mainManager.deviceOS=="Android"){hotmob_tag.banners[divID].bannerLoaded=true;}
break;case"ios":if(hotmob_tag.mainManager.deviceOS=="iOS"){hotmob_tag.banners[divID].bannerLoaded=true;}
break;case"blackberry":case"opera":case"iemobile":if(hotmob_tag.mainManager.deviceType=="mobile"){hotmob_tag.banners[divID].bannerLoaded=true;}
break;case"windows":case"macos":case"linux":case"unix":default:if(hotmob_tag.mainManager.deviceType=="desktop"||typeof hotmob_tag.mainManager.deviceType=='undefined'){hotmob_tag.banners[divID].bannerLoaded=true;}
break;}
i++;}}
hotmob_tag.features.stopPopupStyleClassInjection=function(shouldStop){if(adFormatType=="popup"){hotmob_tag.banners[divID].stopPopupStyleClassInjection=shouldStop;}
else
hotmob_tag.mainManager.debug(' Hotmob Debug Log: Cannot set this features [stopPopupStyleClassInjection] on this [banner] type ');}
hotmob_tag.features.stopAllBannerWhenPopupShow=function(shouldStop){if(adFormatType=="popup"){hotmob_tag.banners[divID].stopAllBannerWhenPopupShow=shouldStop;}
else
hotmob_tag.mainManager.debug(' Hotmob Debug Log: Cannot set this features [stopAllBannerWhenPopupShow] on this [banner] type ');}
hotmob_tag.features.shouldPopupCoverOverCloseButton=function(shouldCover){if(adFormatType=="popup")
hotmob_tag.banners[divID].shouldPopupCoverOverCloseButton=shouldCover;else
hotmob_tag.mainManager.debug(' Hotmob Debug Log: Cannot set this features [shouldPopupCoverOverCloseButton] on this [banner] type ');}
hotmob_tag.features.setPopupCloseButtonPosition=function(stylePosition){hotmob_tag.banners[divID].popupCloseButtonPosition=stylePosition;}
hotmob_tag.callback=function(){};hotmob_tag.callback.defineBeforeAdShowCallback=(function(eventFunction){hotmob_tag.banners[divID].beforeAdShowCallback=eventFunction});hotmob_tag.callback.defineAfterAdShowCallback=(function(eventFunction){hotmob_tag.banners[divID].afterAdShowCallback=eventFunction});hotmob_tag.callback.defineOnNoAdCallback=(function(eventFunction){hotmob_tag.banners[divID].onNoAdCallback=eventFunction});hotmob_tag.callback.defineOnAdClickCallback=(function(eventFunction){hotmob_tag.banners[divID].onAdClickCallback=eventFunction});hotmob_tag.callback.defineOnAdCloseCallback=(function(eventFunction){hotmob_tag.banners[divID].onAdCloseCallback=eventFunction});hotmob_tag.callback.defineOnAdBlockCallback=(function(eventFunction){hotmob_tag.banners[divID].onAdBlockCallback=eventFunction});}
hotmob_tag.display=function(divID){try{hotmob_tag.mainManager.debug(' Hotmob Debug Log: Display start '+hotmob_tag.banners[divID].adCode);banner=hotmob_tag.banners[divID];if(banner.bannerLoaded==true){console.log(' Hotmob Debug Log: Display shall not call twice, adcode: '+hotmob_tag.banners[divID].adCode)
return false;}
if(hotmob_tag.banners[divID].beforeAdShowCallback){hotmob_tag.mainManager.debug(' Hotmob Debug Log: Before Ad Show Callback ');hotmob_tag.banners[divID].beforeAdShowCallback(hotmob_tag.banners[divID]);}
if(hotmob_tag.banners[divID].stopAllBannerWhenPopupShow){hotmob_tag.mainManager.debug(' Hotmob Debug Log: Stop Process By Popup Show ');hotmob_tag.mainManager.process='pause';}
var container=document.getElementById(divID);if(!container||window.inDapIF){container=banner.container=document.createElement("div");container.setAttribute('id',divID);if(window.inDapIF&&window.frameElement){if(banner.adFormatType=="popup"){window.frameElement.parentNode.ownerDocument.body.appendChild(container);}else{window.frameElement.parentNode.insertBefore(container,window.frameElement);}}else{var iframes=document.getElementsByTagName("iframe");banner.hmTagInIframe=false;for(var i=0;i<iframes.length;i++){if(!iframes[i].src||iframes[i].src.indexOf('http')<0){for(var s=0;s<iframes[i].contentDocument.scripts.length;s++){if(iframes[i].contentDocument.scripts[s].innerHTML.indexOf(banner.adCode)>0){iframes[i].parentNode.insertBefore(container,iframes[i]);banner.inFrame=iframes[i];banner.hmTagInIframe=true;break;}}}}
if(!banner.hmTagInIframe){if(document.body){document.body.appendChild(container);}else{hotmob_tag.mainManager.hotmobAddEventListener(window,"load",(function(){document.body.appendChild(container);}));}}}}
var parent=container.parentElement;var divWidthRemovedPX=null;if(banner.isSmartBanner){divWidthRemovedPX=parent.clientWidth;}else{if(banner.nonSmartBannerWidth){divWidthRemovedPX=banner.nonSmartBannerWidth;}else{divWidthRemovedPX=container.clientWidth;}}
if(!banner.allowSmartBottomBannerOnLandscape&&banner.adFormatType=='bottomBanner'&&hotmob_tag.mainManager.orientationState=='landscape'){if(hotmob_tag.mainManager.deviceInnerHeight>hotmob_tag.mainManager.deviceInnerWidth){divWidthRemovedPX=hotmob_tag.mainManager.deviceInnerWidth;}else{divWidthRemovedPX=hotmob_tag.mainManager.deviceInnerHeight;}}
var http=hotmob_tag.mainManager.http,requestURL=hotmob_tag.mainManager.requestURL;var currentWindow=window;if(window.inDapIF){currentWindow=window.parent;}
var requestParams={k:hotmob_tag.banners[divID].adCode,s:hotmob_tag.mainManager.sessionID,w:divWidthRemovedPX,b:hotmob_tag.mainManager.browser,bv:hotmob_tag.mainManager.browserVersion,purl:encodeURIComponent(window.location.href),make:hotmob_tag.mainManager.vendor,model:hotmob_tag.mainManager.model,os:hotmob_tag.mainManager.deviceOS,osv:hotmob_tag.mainManager.OSVersion,ver:hotmob_tag.mainManager.sdkVersion,sdk:3,oo:0,scr_w:currentWindow.innerWidth,scr_h:currentWindow.innerHeight,lat:hotmob_tag.mainManager.locationLat,lon:hotmob_tag.mainManager.locationLong,t:hotmob_tag.mainManager.generateToken(32,"0123456789abcdef"),_:Math.floor(Date.now()),kv:encodeURIComponent(JSON.stringify(hotmob_tag.banners[divID].keyValue)),}
var adx=http+requestURL;adx=hotmob_tag.mainManager.urlAddParams(adx,requestParams);var currentCookieColdfreq=hotmob_tag.mainManager.getCurrentCookie(divID+'-coldfreq');var currentCookieColdtimeseconds=hotmob_tag.mainManager.getCurrentCookie(divID+'-coldtimeseconds');if(hotmob_tag.banners[divID].deviceStopped){if(hotmob_tag.banners[divID].stopAllBannerWhenPopupShow){hotmob_tag.mainManager.process='loading';}
hotmob_tag.mainManager.debug(' Hotmob Debug Log: Stopped on Device ['+hotmob_tag.mainManager.deviceOS+']');if(hotmob_tag.banners[divID].onNoAdCallback){hotmob_tag.mainManager.debug(' Hotmob Debug Log: On No Ad Callback ');hotmob_tag.banners[divID].onNoAdCallback(hotmob_tag.banners[divID]);}}else if((currentCookieColdfreq!=null&&currentCookieColdfreq>0)||(currentCookieColdtimeseconds!=null||currentCookieColdtimeseconds>0)){if(hotmob_tag.banners[divID].stopAllBannerWhenPopupShow){hotmob_tag.mainManager.process='loading';}
if(currentCookieColdfreq!=null&&currentCookieColdfreq>0){hotmob_tag.mainManager.process='loading';hotmob_tag.mainManager.setCookie(divID+'-coldfreq',currentCookieColdfreq-1,hotmob_tag.mainManager.cookieDefaultExpires);}
if(hotmob_tag.banners[divID].onNoAdCallback){hotmob_tag.mainManager.debug(' Hotmob Debug Log: On No Ad Callback ');hotmob_tag.banners[divID].onNoAdCallback(hotmob_tag.banners[divID]);}}else{hotmob_tag.banners[divID].requested=true;hotmob_tag.mainManager.sendRequest(adx,"GET",function(response){hotmob_tag.mainManager.debug(' Hotmob Debug Log: sendRequest on State Change: ');var json=JSON.parse(response);if(json.adv.id&&json.adv.id>0){var renamedObject={advId:json.adv.id,advCreativeId:json.adv.cid,t:json.adv.t,advType:json.adv.type.toString(),advWidth:json.adv.w,advHeight:json.adv.h,advHTMLPath:hotmob_tag.mainManager.hotmobURLDeconde(json.adv.html),advVideoPath:hotmob_tag.mainManager.hotmobURLDeconde(json.adv.video),advURLPath:hotmob_tag.mainManager.hotmobURLDeconde(json.adv.url),isSmartCreative:json.adv.sc,config:json.adv.config,message:json.adv.message,videoOptions:json.adv.option,}
for(var name in renamedObject){hotmob_tag.banners[divID][name]=renamedObject[name];}
if(hotmob_tag.banners[divID].advHTMLPath){hotmob_tag.banners[divID].advHTMLPath=hotmob_tag.banners[divID].advHTMLPath.replace('http:',hotmob_tag.mainManager.http);}
if(!container||window.inDapIF){window.frameElement.style.display="none";}
switch(hotmob_tag.banners[divID].adFormatType){case"banner":hotmob_tag.mainManager.hotmobCreateCustomEvent('onscreen');hotmob_tag.mainManager.hotmobCreateCustomEvent('offscreen');var checkContainerViewing=(function(){hotmob_tag.mainManager.hotmobEventTrigger(container,hotmob_tag.mainManager.elementIsInView(container)?"onscreen":"offscreen");banner.containerViewing=hotmob_tag.mainManager.elementIsInView(container);});var checkPageViewing=(function(){banner.pageViewing=!currentWindow.document[hotmob_tag.mainManager.visibilityObject.hidden];});checkContainerViewing();checkPageViewing();hotmob_tag.mainManager.hotmobAddEventListener(window,"scroll",checkContainerViewing);hotmob_tag.mainManager.hotmobAddEventListener(window,"resize",checkContainerViewing);hotmob_tag.mainManager.hotmobAddEventListener(currentWindow.document,hotmob_tag.mainManager.visibilityObject.visibilityChange,checkPageViewing,banner.eventListenrList);hotmob_tag.banners[divID].genBanner();if(hotmob_tag.banners[divID].hmTagInIframe){hotmob_tag.banners[divID].inFrame.style.display="none";}
break;case"popup":hotmob_tag.banners[divID].genPopup();break;case"bottomBanner":hotmob_tag.banners[divID].genBottomBanner();break;}}else{if(hotmob_tag.banners[divID].onNoAdCallback){hotmob_tag.mainManager.debug(' Hotmob Debug Log: On No Ad Callback ');hotmob_tag.banners[divID].onNoAdCallback(hotmob_tag.banners[divID]);}
if(hotmob_tag.banners[divID].stopAllBannerWhenPopupShow){hotmob_tag.mainManager.commandProcessReActive();}}
if(hotmob_tag.banners[divID].coldFreq>0){hotmob_tag.mainManager.setCookie(divID+'-coldfreq',hotmob_tag.banners[divID].coldFreq,hotmob_tag.mainManager.cookieDefaultExpires);}
if(hotmob_tag.banners[divID].coldTimeSeconds>0){hotmob_tag.mainManager.setCookie(divID+'-coldtimeseconds',1,hotmob_tag.banners[divID].coldTimeSeconds);}
},function(errorMessage){hotmob_tag.mainManager.debug(' Hotmob Debug Log: sendRequest on Error '+errorMessage);hotmob_tag.mainManager.adblocked=true;if(hotmob_tag.mainManager.adblocked==true&&hotmob_tag.banners[divID].onAdBlockCallback){hotmob_tag.banners[divID].onAdBlockCallback();hotmob_tag.banners[divID].onAdBlockCallback=null;}},function(event){hotmob_tag.mainManager.debug(' Hotmob Debug Log: sendRequest on Process '+event);},function(event){hotmob_tag.mainManager.debug(' Hotmob Debug Log: sendRequest on Load '+event);if(hotmob_tag.banners[divID].afterAdShowCallback){hotmob_tag.mainManager.debug(' Hotmob Debug Log: AfterAd Show Callback ');hotmob_tag.banners[divID].afterAdShowCallback(hotmob_tag.banners[divID]);}},function(event){hotmob_tag.mainManager.debug(' Hotmob Debug Log: sendRequest on Timeout '+event);});if(hotmob_tag.mainManager.adblocked==true&&hotmob_tag.banners[divID].onAdBlockCallback){hotmob_tag.banners[divID].onAdBlockCallback();hotmob_tag.banners[divID].onAdBlockCallback=null;}}}catch(e){hotmob_tag.mainManager.debug(' Hotmob Debug Log: Display Banner '+e.divID+' : ',e);}}
hotmob_tag.start=function(){if(!hotmob_tag.mainManager.sdkLoaded){hotmob_tag.mainManager.start();}
}
hotmob_tag.getHotmobVMAP=function(divID,duration){if(!duration||duration=="")
duration="";var currentWindow=window;if(window.inDapIF){currentWindow=window.parent;}
var requestParams={ap:hotmob_tag.banners[divID].adCode,duration:duration,s:hotmob_tag.mainManager.sessionID,b:hotmob_tag.mainManager.browser,bv:hotmob_tag.mainManager.browserVersion,purl:encodeURIComponent(window.location.href),make:hotmob_tag.mainManager.vendor,model:hotmob_tag.mainManager.model,os:hotmob_tag.mainManager.deviceOS,osv:hotmob_tag.mainManager.OSVersion,ver:hotmob_tag.mainManager.sdkVersion,sdk:3,oo:0,scr_w:currentWindow.innerWidth,scr_h:currentWindow.innerHeight,lat:hotmob_tag.mainManager.locationLat,lon:hotmob_tag.mainManager.locationLong,t:hotmob_tag.mainManager.generateToken(32,"0123456789abcdef"),_:Math.floor(Date.now()),kv:encodeURIComponent(JSON.stringify(hotmob_tag.banners[divID].keyValue)),}
var URL="https:"+hotmob_tag.mainManager.vmapURL;URL=hotmob_tag.mainManager.urlAddParams(URL,requestParams);return URL;}
hotmob_tag.banners=(hotmob_tag.banners?hotmob_tag.banners:new Array());hotmob_tag.mainManager=(hotmob_tag.mainManager?hotmob_tag.mainManager:new hotmobMainManager());hotmob_tag.cmd=(hotmob_tag.cmd?hotmob_tag.cmd:new Array());hotmob_tag.mainManager.process='pause';var start_command=hotmob_tag.cmd||{};var start_command_length=start_command.length;hotmob_tag.cmd.push=function(){try{if(hotmob_tag.mainManager.process!="pause"){if(arguments[0].loaded){return false}else{arguments[0]();arguments[0].loaded=true;}}
var cmdExisted=false;for(var i=0;i<start_command_length;i++){if(arguments[0]==start_command[i]){cmdExisted=true;}}
if(!cmdExisted){Array.prototype.push.apply(hotmob_tag.cmd,arguments);}}catch(e){hotmob_tag.mainManager.debug(' Hotmob Debug Log: CMD Error ',e);}}
hotmob_tag.start();(function(){window.hotmob_tag=window.hotmob_tag||{};window.hotmob_tag.cmd=window.hotmob_tag.cmd||[];var adsTag=document.getElementsByClassName("hmptags");for(var adTag=0;adTag<adsTag.length;adTag++){if(!adsTag[adTag].loaded){adsTag[adTag].loaded=true;var data=adsTag[adTag].dataset;var adunit=document.createElement("div")
adsTag[adTag].parentNode.insertBefore(adunit,adsTag[adTag]);adunit.id='div-hotmob-ad-'+Math.floor(Date.now());window.hotmob_tag.define(data.hmAdcode,data.hmSizes?data.hmSizes:[],data.hmInterstitial!=""?'banner':'popup',adunit.id);if(data.hmInterstitial==""){adunit.style.maxWidth="0px";}
if(data.hmClickTrack&&data.hmClickTrack!="")window.hotmob_tag.features.setClickMacro(data.hmClickTrack);if(data.hmStopOs)window.hotmob_tag.features.setStopCallingOnOSs(data.hmStopOs.split(","));window.hotmob_tag.features.isSmartBanner(false);window.hotmob_tag.display(adunit.id);}}})();